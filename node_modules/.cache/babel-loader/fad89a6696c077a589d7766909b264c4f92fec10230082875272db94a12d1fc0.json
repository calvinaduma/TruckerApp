{"ast":null,"code":"import _slicedToArray from \"/Users/carterbrewer/Downloads/trucker_app-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _regeneratorRuntime from \"/Users/carterbrewer/Downloads/trucker_app-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport { __awaiter } from '../../../node_modules/tslib/tslib.es6.js';\nimport { Auth } from 'aws-amplify';\nimport { getSortedFormFields } from '@aws-amplify/ui';\nimport isString from 'lodash/isString';\nimport { areEmptyArrays, areEmptyObjects } from '../../../utils/index.js';\nimport { isComponentRouteKey } from '../utils.js';\nvar defaultComparator = function defaultComparator() {\n  return false;\n};\n/**\n * Does an ordering and shallow comparison of each array value,\n * plus a value equality check for empty objects and arrays.\n */\nfunction areSelectorDepsEqual(currentDeps, nextDeps) {\n  if (currentDeps.length !== nextDeps.length) {\n    return false;\n  }\n  return currentDeps.every(function (currentDep, index) {\n    var nextDep = nextDeps[index];\n    if (areEmptyArrays(currentDep, nextDep) || areEmptyObjects(currentDep, nextDep)) {\n      return true;\n    }\n    return currentDep === nextDep;\n  });\n}\nvar getComparator = function getComparator(selector) {\n  return function (currentFacade, nextFacade) {\n    var currentSelectorDeps = selector(currentFacade);\n    var nextSelectorDeps = selector(nextFacade);\n    // Shallow compare the array values\n    return areSelectorDepsEqual(currentSelectorDeps, nextSelectorDeps);\n  };\n};\nvar getTotpSecretCodeCallback = function getTotpSecretCodeCallback(user) {\n  return function getTotpSecretCode() {\n    return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return Auth.setupTOTP(user);\n            case 2:\n              return _context.abrupt(\"return\", _context.sent);\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n  };\n};\nvar flattenFormFields = function flattenFormFields(fields) {\n  return fields.flatMap(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n      name = _ref2[0],\n      options = _ref2[1];\n    return Object.assign({\n      name: name\n    }, options);\n  });\n};\nvar convertContactMethodsToFields = function convertContactMethodsToFields(unverifiedContactMethods) {\n  return unverifiedContactMethods && Object.entries(unverifiedContactMethods).map(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n      name = _ref4[0],\n      value = _ref4[1];\n    var valueIsString = isString(value);\n    if (!valueIsString || !name) {\n      return {};\n    }\n    return {\n      name: name,\n      label: value,\n      type: 'radio',\n      value: value\n    };\n  });\n};\n/**\n * Retrieves default and custom (RWA only, to be updated) form field values from state machine\n * for subcomponent routes that render fields\n */\nvar getMachineFields = function getMachineFields(route, state, unverifiedContactMethods) {\n  if (isComponentRouteKey(route)) {\n    return route === 'verifyUser' ? convertContactMethodsToFields(unverifiedContactMethods) : flattenFormFields(getSortedFormFields(route, state));\n  }\n  return [];\n};\nexport { areSelectorDepsEqual, defaultComparator, getComparator, getMachineFields, getTotpSecretCodeCallback };","map":{"version":3,"names":["__awaiter","Auth","getSortedFormFields","isString","areEmptyArrays","areEmptyObjects","isComponentRouteKey","defaultComparator","areSelectorDepsEqual","currentDeps","nextDeps","length","every","currentDep","index","nextDep","getComparator","selector","currentFacade","nextFacade","currentSelectorDeps","nextSelectorDeps","getTotpSecretCodeCallback","user","getTotpSecretCode","setupTOTP","flattenFormFields","fields","flatMap","name","options","Object","assign","convertContactMethodsToFields","unverifiedContactMethods","entries","map","value","valueIsString","label","type","getMachineFields","route","state"],"sources":["/Users/carterbrewer/Downloads/trucker_app-main/node_modules/@aws-amplify/ui-react-core/dist/esm/Authenticator/hooks/useAuthenticator/utils.js"],"sourcesContent":["import { __awaiter } from '../../../node_modules/tslib/tslib.es6.js';\nimport { Auth } from 'aws-amplify';\nimport { getSortedFormFields } from '@aws-amplify/ui';\nimport isString from 'lodash/isString';\nimport { areEmptyArrays, areEmptyObjects } from '../../../utils/index.js';\nimport { isComponentRouteKey } from '../utils.js';\n\nconst defaultComparator = () => false;\n/**\n * Does an ordering and shallow comparison of each array value,\n * plus a value equality check for empty objects and arrays.\n */\nfunction areSelectorDepsEqual(currentDeps, nextDeps) {\n    if (currentDeps.length !== nextDeps.length) {\n        return false;\n    }\n    return currentDeps.every((currentDep, index) => {\n        const nextDep = nextDeps[index];\n        if (areEmptyArrays(currentDep, nextDep) ||\n            areEmptyObjects(currentDep, nextDep)) {\n            return true;\n        }\n        return currentDep === nextDep;\n    });\n}\nconst getComparator = (selector) => (currentFacade, nextFacade) => {\n    const currentSelectorDeps = selector(currentFacade);\n    const nextSelectorDeps = selector(nextFacade);\n    // Shallow compare the array values\n    return areSelectorDepsEqual(currentSelectorDeps, nextSelectorDeps);\n};\nconst getTotpSecretCodeCallback = (user) => function getTotpSecretCode() {\n    return __awaiter(this, void 0, void 0, function* () {\n        return yield Auth.setupTOTP(user);\n    });\n};\nconst flattenFormFields = (fields) => fields.flatMap(([name, options]) => (Object.assign({ name }, options)));\nconst convertContactMethodsToFields = (unverifiedContactMethods) => {\n    return (unverifiedContactMethods &&\n        Object.entries(unverifiedContactMethods).map(([name, value]) => {\n            const valueIsString = isString(value);\n            if (!valueIsString || !name) {\n                return {};\n            }\n            return { name, label: value, type: 'radio', value };\n        }));\n};\n/**\n * Retrieves default and custom (RWA only, to be updated) form field values from state machine\n * for subcomponent routes that render fields\n */\nconst getMachineFields = (route, state, unverifiedContactMethods) => {\n    if (isComponentRouteKey(route)) {\n        return route === 'verifyUser'\n            ? convertContactMethodsToFields(unverifiedContactMethods)\n            : flattenFormFields(getSortedFormFields(route, state));\n    }\n    return [];\n};\n\nexport { areSelectorDepsEqual, defaultComparator, getComparator, getMachineFields, getTotpSecretCodeCallback };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}