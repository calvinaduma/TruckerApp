{"ast":null,"code":"import { __rest } from '../../../node_modules/tslib/tslib.es6.js';\nimport React, { useCallback, useMemo } from 'react';\nimport { useSelector } from '@xstate/react';\nimport { getServiceFacade } from '@aws-amplify/ui';\nimport 'react/jsx-runtime';\nimport { AuthenticatorContext } from '../../context/AuthenticatorContext.js';\nimport { USE_AUTHENTICATOR_ERROR } from './constants.js';\nimport { getMachineFields, getTotpSecretCodeCallback, getComparator, defaultComparator } from './utils.js';\n\n/**\n * [ðŸ“– Docs](https://ui.docs.amplify.aws/react/connected-components/authenticator/headless#useauthenticator-hook)\n */\nfunction useAuthenticator(selector) {\n  var context = React.useContext(AuthenticatorContext);\n  if (!context) {\n    throw new Error(USE_AUTHENTICATOR_ERROR);\n  }\n  var service = context.service;\n  var send = service.send;\n  var xstateSelector = useCallback(function (state) {\n    return Object.assign({}, getServiceFacade({\n      send: send,\n      state: state\n    }));\n  }, [send]);\n  var comparator = selector ? getComparator(selector) : defaultComparator;\n  var facade = useSelector(service, xstateSelector, comparator);\n  var route = facade.route,\n    unverifiedContactMethods = facade.unverifiedContactMethods,\n    user = facade.user,\n    rest = __rest(facade, [\"route\", \"unverifiedContactMethods\", \"user\"]);\n  // do not memoize output. `service.getSnapshot` reference remains stable preventing\n  // `fields` from updating with current form state on value changes\n  var serviceSnapshot = service.getSnapshot();\n  // legacy `formFields` values required until form state is removed from state machine\n  var fields = useMemo(function () {\n    return getMachineFields(route, serviceSnapshot, unverifiedContactMethods);\n  }, [route, serviceSnapshot, unverifiedContactMethods]);\n  return Object.assign(Object.assign({}, rest), {\n    getTotpSecretCode: getTotpSecretCodeCallback(user),\n    route: route,\n    unverifiedContactMethods: unverifiedContactMethods,\n    user: user,\n    /** @deprecated For internal use only */\n    fields: fields\n  });\n}\nexport { useAuthenticator as default };","map":{"version":3,"names":["__rest","React","useCallback","useMemo","useSelector","getServiceFacade","AuthenticatorContext","USE_AUTHENTICATOR_ERROR","getMachineFields","getTotpSecretCodeCallback","getComparator","defaultComparator","useAuthenticator","selector","context","useContext","Error","service","send","xstateSelector","state","Object","assign","comparator","facade","route","unverifiedContactMethods","user","rest","serviceSnapshot","getSnapshot","fields","getTotpSecretCode","default"],"sources":["/Users/carterbrewer/Downloads/trucker_app-main/node_modules/@aws-amplify/ui-react-core/dist/esm/Authenticator/hooks/useAuthenticator/useAuthenticator.js"],"sourcesContent":["import { __rest } from '../../../node_modules/tslib/tslib.es6.js';\nimport React, { useCallback, useMemo } from 'react';\nimport { useSelector } from '@xstate/react';\nimport { getServiceFacade } from '@aws-amplify/ui';\nimport 'react/jsx-runtime';\nimport { AuthenticatorContext } from '../../context/AuthenticatorContext.js';\nimport { USE_AUTHENTICATOR_ERROR } from './constants.js';\nimport { getMachineFields, getTotpSecretCodeCallback, getComparator, defaultComparator } from './utils.js';\n\n/**\n * [ðŸ“– Docs](https://ui.docs.amplify.aws/react/connected-components/authenticator/headless#useauthenticator-hook)\n */\nfunction useAuthenticator(selector) {\n    const context = React.useContext(AuthenticatorContext);\n    if (!context) {\n        throw new Error(USE_AUTHENTICATOR_ERROR);\n    }\n    const { service } = context;\n    const { send } = service;\n    const xstateSelector = useCallback((state) => (Object.assign({}, getServiceFacade({ send, state }))), [send]);\n    const comparator = selector ? getComparator(selector) : defaultComparator;\n    const facade = useSelector(service, xstateSelector, comparator);\n    const { route, unverifiedContactMethods, user } = facade, rest = __rest(facade, [\"route\", \"unverifiedContactMethods\", \"user\"]);\n    // do not memoize output. `service.getSnapshot` reference remains stable preventing\n    // `fields` from updating with current form state on value changes\n    const serviceSnapshot = service.getSnapshot();\n    // legacy `formFields` values required until form state is removed from state machine\n    const fields = useMemo(() => getMachineFields(route, serviceSnapshot, unverifiedContactMethods), [route, serviceSnapshot, unverifiedContactMethods]);\n    return Object.assign(Object.assign({}, rest), { getTotpSecretCode: getTotpSecretCodeCallback(user), route,\n        unverifiedContactMethods,\n        user,\n        /** @deprecated For internal use only */\n        fields });\n}\n\nexport { useAuthenticator as default };\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,0CAA0C;AACjE,OAAOC,KAAK,IAAIC,WAAW,EAAEC,OAAO,QAAQ,OAAO;AACnD,SAASC,WAAW,QAAQ,eAAe;AAC3C,SAASC,gBAAgB,QAAQ,iBAAiB;AAClD,OAAO,mBAAmB;AAC1B,SAASC,oBAAoB,QAAQ,uCAAuC;AAC5E,SAASC,uBAAuB,QAAQ,gBAAgB;AACxD,SAASC,gBAAgB,EAAEC,yBAAyB,EAAEC,aAAa,EAAEC,iBAAiB,QAAQ,YAAY;;AAE1G;AACA;AACA;AACA,SAASC,gBAAgB,CAACC,QAAQ,EAAE;EAChC,IAAMC,OAAO,GAAGb,KAAK,CAACc,UAAU,CAACT,oBAAoB,CAAC;EACtD,IAAI,CAACQ,OAAO,EAAE;IACV,MAAM,IAAIE,KAAK,CAACT,uBAAuB,CAAC;EAC5C;EACA,IAAQU,OAAO,GAAKH,OAAO,CAAnBG,OAAO;EACf,IAAQC,IAAI,GAAKD,OAAO,CAAhBC,IAAI;EACZ,IAAMC,cAAc,GAAGjB,WAAW,CAAC,UAACkB,KAAK;IAAA,OAAMC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEjB,gBAAgB,CAAC;MAAEa,IAAI,EAAJA,IAAI;MAAEE,KAAK,EAALA;IAAM,CAAC,CAAC,CAAC;EAAA,CAAC,EAAE,CAACF,IAAI,CAAC,CAAC;EAC7G,IAAMK,UAAU,GAAGV,QAAQ,GAAGH,aAAa,CAACG,QAAQ,CAAC,GAAGF,iBAAiB;EACzE,IAAMa,MAAM,GAAGpB,WAAW,CAACa,OAAO,EAAEE,cAAc,EAAEI,UAAU,CAAC;EAC/D,IAAQE,KAAK,GAAqCD,MAAM,CAAhDC,KAAK;IAAEC,wBAAwB,GAAWF,MAAM,CAAzCE,wBAAwB;IAAEC,IAAI,GAAKH,MAAM,CAAfG,IAAI;IAAaC,IAAI,GAAG5B,MAAM,CAACwB,MAAM,EAAE,CAAC,OAAO,EAAE,0BAA0B,EAAE,MAAM,CAAC,CAAC;EAC9H;EACA;EACA,IAAMK,eAAe,GAAGZ,OAAO,CAACa,WAAW,EAAE;EAC7C;EACA,IAAMC,MAAM,GAAG5B,OAAO,CAAC;IAAA,OAAMK,gBAAgB,CAACiB,KAAK,EAAEI,eAAe,EAAEH,wBAAwB,CAAC;EAAA,GAAE,CAACD,KAAK,EAAEI,eAAe,EAAEH,wBAAwB,CAAC,CAAC;EACpJ,OAAOL,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEM,IAAI,CAAC,EAAE;IAAEI,iBAAiB,EAAEvB,yBAAyB,CAACkB,IAAI,CAAC;IAAEF,KAAK,EAALA,KAAK;IACrGC,wBAAwB,EAAxBA,wBAAwB;IACxBC,IAAI,EAAJA,IAAI;IACJ;IACAI,MAAM,EAANA;EAAO,CAAC,CAAC;AACjB;AAEA,SAASnB,gBAAgB,IAAIqB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}