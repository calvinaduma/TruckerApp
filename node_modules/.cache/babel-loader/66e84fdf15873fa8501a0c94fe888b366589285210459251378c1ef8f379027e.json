{"ast":null,"code":"import _regeneratorRuntime from \"/Users/carterbrewer/Downloads/trucker_app-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport { __awaiter as e } from \"tslib\";\nimport { Hub as s, DataStore as t } from \"aws-amplify\";\nimport { UI_CHANNEL as i, ACTION_DATASTORE_UPDATE_STARTED as o, EVENT_ACTION_DATASTORE_UPDATE as r, DATASTORE_QUERY_BY_ID_ERROR as d, ACTION_DATASTORE_UPDATE_FINISHED as a } from \"./constants.js\";\nimport { getErrorMessage as m } from \"../../helpers/utils.js\";\nimport { AMPLIFY_SYMBOL as n } from \"../../helpers/constants.js\";\nimport { useTypeCastFields as c } from \"./shared/useTypeCastFields.js\";\nvar f = function f(_ref) {\n  var f = _ref.fields,\n    l = _ref.id,\n    p = _ref.model,\n    h = _ref.schema;\n  var v = c({\n    fields: f,\n    modelName: p.name,\n    schema: h\n  });\n  return function () {\n    return e(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _e, _m;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              s.dispatch(i, {\n                event: o,\n                data: {\n                  fields: v,\n                  id: l\n                }\n              }, r, n);\n              _context.next = 4;\n              return t.query(p, l);\n            case 4:\n              _e = _context.sent;\n              if (_e) {\n                _context.next = 7;\n                break;\n              }\n              throw new Error(\"\".concat(d, \": \").concat(l));\n            case 7:\n              _context.next = 9;\n              return t.save(p.copyOf(_e, function (e) {\n                Object.assign(e, v);\n              }));\n            case 9:\n              _m = _context.sent;\n              s.dispatch(i, {\n                event: a,\n                data: {\n                  fields: v,\n                  id: l,\n                  item: _m\n                }\n              }, r, n);\n              _context.next = 16;\n              break;\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](0);\n              s.dispatch(i, {\n                event: a,\n                data: {\n                  fields: v,\n                  id: l,\n                  errorMessage: m(_context.t0)\n                }\n              }, r, n);\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 13]]);\n    }));\n  };\n};\nexport { f as useDataStoreUpdateAction };","map":{"version":3,"names":["__awaiter","e","Hub","s","DataStore","t","UI_CHANNEL","i","ACTION_DATASTORE_UPDATE_STARTED","o","EVENT_ACTION_DATASTORE_UPDATE","r","DATASTORE_QUERY_BY_ID_ERROR","d","ACTION_DATASTORE_UPDATE_FINISHED","a","getErrorMessage","m","AMPLIFY_SYMBOL","n","useTypeCastFields","c","f","fields","l","id","p","model","h","schema","v","modelName","name","dispatch","event","data","query","Error","save","copyOf","Object","assign","item","errorMessage","useDataStoreUpdateAction"],"sources":["/Users/carterbrewer/Downloads/trucker_app-main/node_modules/@aws-amplify/ui-react/dist/esm/hooks/actions/useDataStoreUpdateAction.js"],"sourcesContent":["import{__awaiter as e}from\"tslib\";import{Hub as s,DataStore as t}from\"aws-amplify\";import{UI_CHANNEL as i,ACTION_DATASTORE_UPDATE_STARTED as o,EVENT_ACTION_DATASTORE_UPDATE as r,DATASTORE_QUERY_BY_ID_ERROR as d,ACTION_DATASTORE_UPDATE_FINISHED as a}from\"./constants.js\";import{getErrorMessage as m}from\"../../helpers/utils.js\";import{AMPLIFY_SYMBOL as n}from\"../../helpers/constants.js\";import{useTypeCastFields as c}from\"./shared/useTypeCastFields.js\";const f=({fields:f,id:l,model:p,schema:h})=>{const v=c({fields:f,modelName:p.name,schema:h});return()=>e(void 0,void 0,void 0,(function*(){try{s.dispatch(i,{event:o,data:{fields:v,id:l}},r,n);const e=yield t.query(p,l);if(!e)throw new Error(`${d}: ${l}`);const m=yield t.save(p.copyOf(e,(e=>{Object.assign(e,v)})));s.dispatch(i,{event:a,data:{fields:v,id:l,item:m}},r,n)}catch(e){s.dispatch(i,{event:a,data:{fields:v,id:l,errorMessage:m(e)}},r,n)}}))};export{f as useDataStoreUpdateAction};\n"],"mappings":";AAAA,SAAOA,SAAS,IAAIC,CAAC,QAAK,OAAO;AAAC,SAAOC,GAAG,IAAIC,CAAC,EAACC,SAAS,IAAIC,CAAC,QAAK,aAAa;AAAC,SAAOC,UAAU,IAAIC,CAAC,EAACC,+BAA+B,IAAIC,CAAC,EAACC,6BAA6B,IAAIC,CAAC,EAACC,2BAA2B,IAAIC,CAAC,EAACC,gCAAgC,IAAIC,CAAC,QAAK,gBAAgB;AAAC,SAAOC,eAAe,IAAIC,CAAC,QAAK,wBAAwB;AAAC,SAAOC,cAAc,IAAIC,CAAC,QAAK,4BAA4B;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,QAAK,+BAA+B;AAAC,IAAMC,CAAC,GAAC,iBAAoC;EAAA,IAA3BA,CAAC,QAARC,MAAM;IAAMC,CAAC,QAAJC,EAAE;IAASC,CAAC,QAAPC,KAAK;IAAUC,CAAC,QAARC,MAAM;EAAO,IAAMC,CAAC,GAACT,CAAC,CAAC;IAACE,MAAM,EAACD,CAAC;IAACS,SAAS,EAACL,CAAC,CAACM,IAAI;IAACH,MAAM,EAACD;EAAC,CAAC,CAAC;EAAC,OAAM;IAAA,OAAI3B,CAAC,CAAC,KAAK,CAAC,EAAC,KAAK,CAAC,EAAC,KAAK,CAAC,0CAAE;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAgBE,CAAC,CAAC8B,QAAQ,CAAC1B,CAAC,EAAC;gBAAC2B,KAAK,EAACzB,CAAC;gBAAC0B,IAAI,EAAC;kBAACZ,MAAM,EAACO,CAAC;kBAACL,EAAE,EAACD;gBAAC;cAAC,CAAC,EAACb,CAAC,EAACQ,CAAC,CAAC;cAAC;cAAQ,OAAMd,CAAC,CAAC+B,KAAK,CAACV,CAAC,EAACF,CAAC,CAAC;YAAA;cAApBvB,EAAC;cAAA,IAAwBA,EAAC;gBAAA;gBAAA;cAAA;cAAA,MAAO,IAAIoC,KAAK,WAAIxB,CAAC,eAAKW,CAAC,EAAG;YAAA;cAAA;cAAS,OAAMnB,CAAC,CAACiC,IAAI,CAACZ,CAAC,CAACa,MAAM,CAACtC,EAAC,EAAE,UAAAA,CAAC,EAAE;gBAACuC,MAAM,CAACC,MAAM,CAACxC,CAAC,EAAC6B,CAAC,CAAC;cAAA,CAAC,CAAE,CAAC;YAAA;cAArDb,EAAC;cAAqDd,CAAC,CAAC8B,QAAQ,CAAC1B,CAAC,EAAC;gBAAC2B,KAAK,EAACnB,CAAC;gBAACoB,IAAI,EAAC;kBAACZ,MAAM,EAACO,CAAC;kBAACL,EAAE,EAACD,CAAC;kBAACkB,IAAI,EAACzB;gBAAC;cAAC,CAAC,EAACN,CAAC,EAACQ,CAAC,CAAC;cAAA;cAAA;YAAA;cAAA;cAAA;cAAUhB,CAAC,CAAC8B,QAAQ,CAAC1B,CAAC,EAAC;gBAAC2B,KAAK,EAACnB,CAAC;gBAACoB,IAAI,EAAC;kBAACZ,MAAM,EAACO,CAAC;kBAACL,EAAE,EAACD,CAAC;kBAACmB,YAAY,EAAC1B,CAAC;gBAAG;cAAC,CAAC,EAACN,CAAC,EAACQ,CAAC,CAAC;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAE,EAAE;EAAA;AAAA,CAAC;AAAC,SAAOG,CAAC,IAAIsB,wBAAwB"},"metadata":{},"sourceType":"module","externalDependencies":[]}