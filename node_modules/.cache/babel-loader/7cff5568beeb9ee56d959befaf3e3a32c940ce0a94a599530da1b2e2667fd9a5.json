{"ast":null,"code":"import _regeneratorRuntime from \"/Users/carterbrewer/Downloads/trucker_app-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _slicedToArray from \"/Users/carterbrewer/Downloads/trucker_app-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { __awaiter as e } from \"tslib\";\nimport { jsx as t, jsxs as o } from \"react/jsx-runtime\";\nimport i from \"qrcode\";\nimport * as r from \"react\";\nimport { Logger as a } from \"aws-amplify\";\nimport { authenticatorTextUtil as s, getTotpCodeURL as n } from \"@aws-amplify/ui\";\nimport { Flex as m } from \"../../../primitives/Flex/Flex.js\";\nimport { Heading as d } from \"../../../primitives/Heading/Heading.js\";\nimport { useAuthenticator as l } from \"@aws-amplify/ui-react-core\";\nimport { useCustomComponents as c } from \"../hooks/useCustomComponents/index.js\";\nimport { useFormHandlers as p } from \"../hooks/useFormHandlers/useFormHandlers.js\";\nimport { ConfirmSignInFooter as u } from \"../shared/ConfirmSignInFooter.js\";\nimport { RemoteErrorMessage as f } from \"../shared/RemoteErrorMessage.js\";\nimport { FormFields as g } from \"../shared/FormFields.js\";\nimport { RouteContainer as h } from \"../RouteContainer/RouteContainer.js\";\nvar v = new a(\"SetupTOTP-logger\"),\n  j = s.getSetupTOTPText,\n  C = s.getCopiedText,\n  y = s.getLoadingText,\n  b = function b(_ref) {\n    var a = _ref.className,\n      s = _ref.variation;\n    var d;\n    var _l = l(function (e) {\n        return [e.isPending];\n      }),\n      j = _l.fields,\n      H = _l.getTotpSecretCode,\n      O = _l.isPending,\n      w = _l.user,\n      _p = p(),\n      S = _p.handleChange,\n      x = _p.handleSubmit,\n      _c = c(),\n      _c$components$SetupTO = _c.components.SetupTOTP,\n      _c$components$SetupTO2 = _c$components$SetupTO.Header,\n      T = _c$components$SetupTO2 === void 0 ? b.Header : _c$components$SetupTO2,\n      _c$components$SetupTO3 = _c$components$SetupTO.Footer,\n      F = _c$components$SetupTO3 === void 0 ? b.Footer : _c$components$SetupTO3,\n      _r$useState = r.useState(!0),\n      _r$useState2 = _slicedToArray(_r$useState, 2),\n      V = _r$useState2[0],\n      P = _r$useState2[1],\n      _r$useState3 = r.useState(),\n      _r$useState4 = _slicedToArray(_r$useState3, 2),\n      R = _r$useState4[0],\n      k = _r$useState4[1],\n      _r$useState5 = r.useState(\"COPY\"),\n      _r$useState6 = _slicedToArray(_r$useState5, 2),\n      L = _r$useState6[0],\n      M = _r$useState6[1],\n      _r$useState7 = r.useState(\"\"),\n      _r$useState8 = _slicedToArray(_r$useState7, 2),\n      q = _r$useState8[0],\n      Z = _r$useState8[1],\n      _ref2 = null !== (d = null == j ? void 0 : j.QR) && void 0 !== d ? d : {},\n      _ref2$totpIssuer = _ref2.totpIssuer,\n      D = _ref2$totpIssuer === void 0 ? \"AWSCognito\" : _ref2$totpIssuer,\n      _ref2$totpUsername = _ref2.totpUsername,\n      E = _ref2$totpUsername === void 0 ? null == w ? void 0 : w.username : _ref2$totpUsername,\n      I = r.useCallback(function () {\n        return e(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n          var _e, _t, _o;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _context.next = 3;\n                  return H();\n                case 3:\n                  _e = _context.sent;\n                  Z(_e);\n                  _t = n(D, E, _e);\n                  _context.next = 8;\n                  return i.toDataURL(_t);\n                case 8:\n                  _o = _context.sent;\n                  k(_o);\n                  _context.next = 15;\n                  break;\n                case 12:\n                  _context.prev = 12;\n                  _context.t0 = _context[\"catch\"](0);\n                  v.error(_context.t0);\n                case 15:\n                  _context.prev = 15;\n                  P(!1);\n                  return _context.finish(15);\n                case 18:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[0, 12, 15, 18]]);\n        }));\n      }, [H, D, E]);\n    r.useEffect(function () {\n      R || I();\n    }, [I, R]);\n    return t(h, Object.assign({\n      className: a,\n      variation: s\n    }, {\n      children: t(\"form\", Object.assign({\n        \"data-amplify-form\": \"\",\n        \"data-amplify-authenticator-setup-totp\": \"\",\n        method: \"post\",\n        onChange: S,\n        onSubmit: x\n      }, {\n        children: o(m, Object.assign({\n          as: \"fieldset\",\n          direction: \"column\",\n          isDisabled: O\n        }, {\n          children: [t(T, {}), o(m, Object.assign({\n            direction: \"column\"\n          }, {\n            children: [V ? o(\"p\", {\n              children: [y(), \"…\"]\n            }) : t(\"img\", {\n              \"data-amplify-qrcode\": !0,\n              src: R,\n              alt: \"qr code\",\n              width: \"228\",\n              height: \"228\"\n            }), o(m, Object.assign({\n              \"data-amplify-copy\": !0\n            }, {\n              children: [t(\"div\", {\n                children: q\n              }), o(m, Object.assign({\n                \"data-amplify-copy-svg\": !0,\n                onClick: function onClick() {\n                  navigator.clipboard.writeText(q), M(C());\n                }\n              }, {\n                children: [t(\"div\", Object.assign({\n                  \"data-amplify-copy-tooltip\": !0\n                }, {\n                  children: L\n                })), t(\"svg\", Object.assign({\n                  width: \"24\",\n                  height: \"24\",\n                  viewBox: \"0 0 24 24\",\n                  xmlns: \"http://www.w3.org/2000/svg\"\n                }, {\n                  children: t(\"path\", {\n                    d: \"M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM15 5H8C6.9 5 6.01 5.9 6.01 7L6 21C6 22.1 6.89 23 7.99 23H19C20.1 23 21 22.1 21 21V11L15 5ZM8 21V7H14V12H19V21H8Z\"\n                  })\n                }))]\n              }))]\n            })), t(g, {}), t(f, {})]\n          })), t(u, {}), t(F, {})]\n        }))\n      }))\n    }));\n  };\nb.Header = function () {\n  return t(d, Object.assign({\n    level: 3\n  }, {\n    children: j()\n  }));\n}, b.Footer = function () {\n  return null;\n};\nexport { b as SetupTOTP };","map":{"version":3,"names":["__awaiter","e","jsx","t","jsxs","o","i","r","Logger","a","authenticatorTextUtil","s","getTotpCodeURL","n","Flex","m","Heading","d","useAuthenticator","l","useCustomComponents","c","useFormHandlers","p","ConfirmSignInFooter","u","RemoteErrorMessage","f","FormFields","g","RouteContainer","h","v","j","getSetupTOTPText","C","getCopiedText","y","getLoadingText","b","className","variation","isPending","fields","H","getTotpSecretCode","O","w","user","S","handleChange","x","handleSubmit","components","SetupTOTP","Header","T","Footer","F","useState","V","P","R","k","L","M","q","Z","QR","totpIssuer","D","totpUsername","E","username","I","useCallback","toDataURL","error","useEffect","Object","assign","children","method","onChange","onSubmit","as","direction","isDisabled","src","alt","width","height","onClick","navigator","clipboard","writeText","viewBox","xmlns","level"],"sources":["/Users/carterbrewer/Downloads/trucker_app-main/node_modules/@aws-amplify/ui-react/dist/esm/components/Authenticator/SetupTOTP/SetupTOTP.js"],"sourcesContent":["import{__awaiter as e}from\"tslib\";import{jsx as t,jsxs as o}from\"react/jsx-runtime\";import i from\"qrcode\";import*as r from\"react\";import{Logger as a}from\"aws-amplify\";import{authenticatorTextUtil as s,getTotpCodeURL as n}from\"@aws-amplify/ui\";import{Flex as m}from\"../../../primitives/Flex/Flex.js\";import{Heading as d}from\"../../../primitives/Heading/Heading.js\";import{useAuthenticator as l}from\"@aws-amplify/ui-react-core\";import{useCustomComponents as c}from\"../hooks/useCustomComponents/index.js\";import{useFormHandlers as p}from\"../hooks/useFormHandlers/useFormHandlers.js\";import{ConfirmSignInFooter as u}from\"../shared/ConfirmSignInFooter.js\";import{RemoteErrorMessage as f}from\"../shared/RemoteErrorMessage.js\";import{FormFields as g}from\"../shared/FormFields.js\";import{RouteContainer as h}from\"../RouteContainer/RouteContainer.js\";const v=new a(\"SetupTOTP-logger\"),{getSetupTOTPText:j,getCopiedText:C,getLoadingText:y}=s,b=({className:a,variation:s})=>{var d;const{fields:j,getTotpSecretCode:H,isPending:O,user:w}=l((e=>[e.isPending])),{handleChange:S,handleSubmit:x}=p(),{components:{SetupTOTP:{Header:T=b.Header,Footer:F=b.Footer}}}=c(),[V,P]=r.useState(!0),[R,k]=r.useState(),[L,M]=r.useState(\"COPY\"),[q,Z]=r.useState(\"\"),{totpIssuer:D=\"AWSCognito\",totpUsername:E=(null==w?void 0:w.username)}=null!==(d=null==j?void 0:j.QR)&&void 0!==d?d:{},I=r.useCallback((()=>e(void 0,void 0,void 0,(function*(){try{const e=yield H();Z(e);const t=n(D,E,e),o=yield i.toDataURL(t);k(o)}catch(e){v.error(e)}finally{P(!1)}}))),[H,D,E]);r.useEffect((()=>{R||I()}),[I,R]);return t(h,Object.assign({className:a,variation:s},{children:t(\"form\",Object.assign({\"data-amplify-form\":\"\",\"data-amplify-authenticator-setup-totp\":\"\",method:\"post\",onChange:S,onSubmit:x},{children:o(m,Object.assign({as:\"fieldset\",direction:\"column\",isDisabled:O},{children:[t(T,{}),o(m,Object.assign({direction:\"column\"},{children:[V?o(\"p\",{children:[y(),\"…\"]}):t(\"img\",{\"data-amplify-qrcode\":!0,src:R,alt:\"qr code\",width:\"228\",height:\"228\"}),o(m,Object.assign({\"data-amplify-copy\":!0},{children:[t(\"div\",{children:q}),o(m,Object.assign({\"data-amplify-copy-svg\":!0,onClick:()=>{navigator.clipboard.writeText(q),M(C())}},{children:[t(\"div\",Object.assign({\"data-amplify-copy-tooltip\":!0},{children:L})),t(\"svg\",Object.assign({width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\"},{children:t(\"path\",{d:\"M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM15 5H8C6.9 5 6.01 5.9 6.01 7L6 21C6 22.1 6.89 23 7.99 23H19C20.1 23 21 22.1 21 21V11L15 5ZM8 21V7H14V12H19V21H8Z\"})}))]}))]})),t(g,{}),t(f,{})]})),t(u,{}),t(F,{})]}))}))}))};b.Header=function(){return t(d,Object.assign({level:3},{children:j()}))},b.Footer=function(){return null};export{b as SetupTOTP};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}