import{jsx as s,Fragment as e}from"react/jsx-runtime";import*as i from"react";import{AuthenticatorProvider as o,useAuthenticator as r,useAuthenticatorInitMachine as t}from"@aws-amplify/ui-react-core";import{CustomComponentsContext as n}from"./hooks/useCustomComponents/index.js";import"../../primitives/View/View.js";import{Router as m}from"./Router/Router.js";import{SetupTOTP as a}from"./SetupTOTP/SetupTOTP.js";import{SignIn as p}from"./SignIn/SignIn.js";import{SignUp as u}from"./SignUp/SignUp.js";import{ForceNewPassword as c}from"./ForceNewPassword/ForceNewPassword.js";import"./ResetPassword/ConfirmResetPassword.js";import{ResetPassword as d}from"./ResetPassword/ResetPassword.js";import{defaultComponents as f}from"./hooks/useCustomComponents/defaultComponents.js";function g({children:o,className:a,components:p,formFields:u,hideSignUp:c,initialState:d,loginMechanisms:g,signUpAttributes:l,services:j,socialProviders:P,variation:w}){const{route:S,signOut:h,user:O}=r((({route:s,signOut:e,user:i})=>[s,e,i]));t({initialState:d,loginMechanisms:g,services:j,signUpAttributes:l,socialProviders:P,formFields:u});const v=i.useMemo((()=>({components:Object.assign(Object.assign({},f),p)})),[p]);return"authenticated"===S||"signOut"===S?o?s(e,{children:"function"==typeof o?o({signOut:h,user:O}):o}):null:s(n.Provider,Object.assign({value:v},{children:s(m,{className:a,hideSignUp:c,variation:w})}))}function l(e){return s(o,{children:s(g,Object.assign({},e))})}l.Provider=o,l.ResetPassword=d,l.SetupTOTP=a,l.SignIn=p,l.SignUp=u,l.ForceNewPassword=c;export{l as Authenticator,g as AuthenticatorInternal};
